16
{"last_modification_time":1574089039,"language":1,"import_file":"/home/duckonomy/Development/gRPC/grpc/test/core/end2end/tests/bad_ping.cc","args_hash":8583860895283344595,"includes":[{"line":20,"resolved_path":"/usr/include/string.h"},{"line":22,"resolved_path":"/usr/include/grpc/support/alloc.h"},{"line":23,"resolved_path":"/usr/include/grpc/support/log.h"},{"line":24,"resolved_path":"/usr/include/grpc/support/sync.h"},{"line":25,"resolved_path":"/usr/include/grpc/support/time.h"}],"dependencies":["/usr/include/string.h","/usr/include/bits/libc-header-start.h","/usr/include/features.h","/usr/include/sys/cdefs.h","/usr/include/gnu/stubs.h","/usr/lib/clang/7.0.0/include/stddef.h","/usr/include/stdc-predef.h","/usr/include/bits/wordsize.h","/usr/include/gnu/stubs-64.h"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50],"uses":[]}],"funcs":[{"id":0,"usr":2248700835175172970,"detailed_name":"static void *tag(int t)","short_name_offset":13,"short_name_size":3,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"33:14-33:17|-1|1|2","extent":"33:1-33:50|-1|1|0","bases":[],"derived":[],"vars":[0],"uses":[],"callees":[]},{"id":1,"usr":771835057643508606,"detailed_name":"static void drain_cq(int *cq)","short_name_offset":12,"short_name_size":8,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"35:13-35:21|-1|1|2","extent":"35:1-41:2|-1|1|0","bases":[],"derived":[],"vars":[1,2],"uses":[],"callees":[]},{"id":2,"usr":3507280820899076870,"detailed_name":"static void shutdown_server(int *f)","short_name_offset":12,"short_name_size":15,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"43:13-43:28|-1|1|2","extent":"43:1-47:2|-1|1|0","bases":[],"derived":[],"vars":[3],"uses":[],"callees":[]},{"id":3,"usr":12518126348874554196,"detailed_name":"static void shutdown_client(int *f)","short_name_offset":12,"short_name_size":15,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"49:13-49:28|-1|1|2","extent":"49:1-53:2|-1|1|0","bases":[],"derived":[],"vars":[4],"uses":[],"callees":[]},{"id":4,"usr":11379393131112315208,"detailed_name":"static void end_test(int *f)","short_name_offset":12,"short_name_size":8,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"55:13-55:21|-1|1|2","extent":"55:1-63:2|-1|1|0","bases":[],"derived":[],"vars":[5],"uses":[],"callees":[]},{"id":5,"usr":791628037950413308,"detailed_name":"static void test_bad_ping(int config)","short_name_offset":12,"short_name_size":13,"kind":12,"storage":3,"hover":"","comments":"Send more pings than server allows to trigger server's GOAWAY.","declarations":[],"spell":"66:13-66:26|-1|1|2","extent":"66:1-219:2|-1|1|0","bases":[],"derived":[],"vars":[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"uses":[],"callees":[]},{"id":6,"usr":2501508219034030941,"detailed_name":"static void test_pings_without_data(int config)","short_name_offset":12,"short_name_size":23,"kind":12,"storage":3,"hover":"","comments":"Try sending more pings than server allows, but server should be fine because\nmax_pings_without_data should limit pings sent out on wire.","declarations":[],"spell":"223:13-223:36|-1|1|2","extent":"223:1-380:2|-1|1|0","bases":[],"derived":[],"vars":[28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49],"uses":[],"callees":[]},{"id":7,"usr":15112208184374796061,"detailed_name":"void bad_ping(int config)","short_name_offset":5,"short_name_size":8,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"382:6-382:14|-1|1|2","extent":"382:1-386:2|-1|1|0","bases":[],"derived":[],"vars":[50],"uses":[],"callees":[]},{"id":8,"usr":338760872723795056,"detailed_name":"void bad_ping_pre_init()","short_name_offset":5,"short_name_size":17,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"388:6-388:23|-1|1|2","extent":"388:1-388:32|-1|1|0","bases":[],"derived":[],"vars":[],"uses":[],"callees":[]}],"vars":[{"id":0,"usr":11854645463235278709,"detailed_name":"int t","short_name_offset":4,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"33:27-33:28|0|3|2","extent":"33:18-33:28|0|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":1,"usr":11953209897021458590,"detailed_name":"int *cq","short_name_offset":5,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"35:45-35:47|1|3|2","extent":"35:22-35:47|1|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":2,"usr":5768910511379568508,"detailed_name":"int ev","short_name_offset":4,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"36:14-36:16|1|3|2","extent":"36:3-36:16|1|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":3,"usr":13106825113746752825,"detailed_name":"int *f","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"43:56-43:57|2|3|2","extent":"43:29-43:57|2|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":4,"usr":10891640596799535223,"detailed_name":"int *f","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"49:56-49:57|3|3|2","extent":"49:29-49:57|3|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":5,"usr":2239930159619587463,"detailed_name":"int *f","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"55:49-55:50|4|3|2","extent":"55:22-55:50|4|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":6,"usr":5551119180034915011,"detailed_name":"int config","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"66:52-66:58|5|3|2","extent":"66:27-66:58|5|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":7,"usr":6340760057603487231,"detailed_name":"int f","short_name_offset":4,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"67:29-67:30|5|3|2","extent":"67:3-67:30|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":8,"usr":14021092460058583909,"detailed_name":"int *cqv","short_name_offset":5,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"68:16-68:19|5|3|2","extent":"68:3-68:19|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":9,"usr":2342028155052259799,"detailed_name":"int [3] client_a","short_name_offset":8,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"69:12-69:20|5|3|2","type":0,"uses":[],"kind":13,"storage":1},{"id":10,"usr":16640061623756649432,"detailed_name":"int [3] server_a","short_name_offset":8,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"80:12-80:20|5|3|2","type":0,"uses":[],"kind":13,"storage":1},{"id":11,"usr":16366312027687263210,"detailed_name":"int client_args","short_name_offset":4,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"91:21-91:32|5|3|2","extent":"91:3-91:32|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":12,"usr":14950741274850978987,"detailed_name":"int server_args","short_name_offset":4,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"92:21-92:32|5|3|2","extent":"92:3-92:32|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":13,"usr":16780794912040334204,"detailed_name":"int *c","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"97:14-97:15|5|3|2","extent":"97:3-97:15|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":14,"usr":18382391681662049558,"detailed_name":"int *s","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"98:14-98:15|5|3|2","extent":"98:3-98:15|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":15,"usr":4588085665193427847,"detailed_name":"int deadline","short_name_offset":4,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"99:16-99:24|5|3|2","extent":"99:3-99:24|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":16,"usr":8304965887229659391,"detailed_name":"int [6] ops","short_name_offset":8,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"100:11-100:14|5|3|2","type":0,"uses":[],"kind":13,"storage":1},{"id":17,"usr":14521232238741505577,"detailed_name":"int *op","short_name_offset":5,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"101:12-101:14|5|3|2","extent":"101:3-101:14|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":18,"usr":8365985898776446194,"detailed_name":"int initial_metadata_recv","short_name_offset":4,"short_name_size":21,"hover":"","comments":"","declarations":[],"spell":"102:23-102:44|5|3|2","extent":"102:3-102:44|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":19,"usr":17917806592440308341,"detailed_name":"int trailing_metadata_recv","short_name_offset":4,"short_name_size":22,"hover":"","comments":"","declarations":[],"spell":"103:23-103:45|5|3|2","extent":"103:3-103:45|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":20,"usr":7417300890599902408,"detailed_name":"int request_metadata_recv","short_name_offset":4,"short_name_size":21,"hover":"","comments":"","declarations":[],"spell":"104:23-104:44|5|3|2","extent":"104:3-104:44|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":21,"usr":3876975498923518295,"detailed_name":"int call_details","short_name_offset":4,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"105:21-105:33|5|3|2","extent":"105:3-105:33|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":22,"usr":7718973836452300460,"detailed_name":"int status","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"106:20-106:26|5|3|2","extent":"106:3-106:26|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":23,"usr":17774745696143258464,"detailed_name":"int error","short_name_offset":4,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"107:19-107:24|5|3|2","extent":"107:3-107:24|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":24,"usr":17522812551459161174,"detailed_name":"int details","short_name_offset":4,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"108:14-108:21|5|3|2","extent":"108:3-108:21|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":25,"usr":18236021546702543893,"detailed_name":"int was_cancelled","short_name_offset":4,"short_name_size":13,"hover":"int was_cancelled = 2","comments":"","declarations":[],"spell":"109:7-109:20|5|3|2","extent":"109:3-109:24|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":26,"usr":18005417835503411192,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"","comments":"Send too many pings to the server to trigger the punishment:\nThe first ping will let server mark its last_recv time. Afterwards, each\nping will trigger a ping strike, and we need at least MAX_PING_STRIKES\nstrikes to trigger the punishment. So (MAX_PING_STRIKES + 2) pings are\nneeded here.","declarations":[],"spell":"161:7-161:8|5|3|2","extent":"161:3-161:8|5|3|0","type":0,"uses":["162:8-162:9|5|3|20","162:15-162:16|5|3|12","162:42-162:43|5|3|28","165:9-165:10|5|3|12"],"kind":13,"storage":1},{"id":27,"usr":16432627175260812967,"detailed_name":"int status_details","short_name_offset":4,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"181:14-181:28|5|3|2","extent":"181:3-181:28|5|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":28,"usr":18421135011117309442,"detailed_name":"int config","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"223:62-223:68|6|3|2","extent":"223:37-223:68|6|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":29,"usr":7655875682703071456,"detailed_name":"int f","short_name_offset":4,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"224:29-224:30|6|3|2","extent":"224:3-224:30|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":30,"usr":10542877419149955712,"detailed_name":"int *cqv","short_name_offset":5,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"225:16-225:19|6|3|2","extent":"225:3-225:19|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":31,"usr":4916621668327735420,"detailed_name":"int [3] client_a","short_name_offset":8,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"226:12-226:20|6|3|2","type":0,"uses":[],"kind":13,"storage":1},{"id":32,"usr":6719589843103337637,"detailed_name":"int [3] server_a","short_name_offset":8,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"239:12-239:20|6|3|2","type":0,"uses":[],"kind":13,"storage":1},{"id":33,"usr":3121879837754482019,"detailed_name":"int client_args","short_name_offset":4,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"250:21-250:32|6|3|2","extent":"250:3-250:32|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":34,"usr":15295827418216714122,"detailed_name":"int server_args","short_name_offset":4,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"251:21-251:32|6|3|2","extent":"251:3-251:32|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":35,"usr":8295267892237666407,"detailed_name":"int *c","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"256:14-256:15|6|3|2","extent":"256:3-256:15|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":36,"usr":8869663150464188687,"detailed_name":"int *s","short_name_offset":5,"short_name_size":1,"hover":"","comments":"","declarations":[],"spell":"257:14-257:15|6|3|2","extent":"257:3-257:15|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":37,"usr":3711806076085976886,"detailed_name":"int deadline","short_name_offset":4,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"258:16-258:24|6|3|2","extent":"258:3-258:24|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":38,"usr":13648774872066390805,"detailed_name":"int [6] ops","short_name_offset":8,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"259:11-259:14|6|3|2","type":0,"uses":[],"kind":13,"storage":1},{"id":39,"usr":17714920476029914145,"detailed_name":"int *op","short_name_offset":5,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"260:12-260:14|6|3|2","extent":"260:3-260:14|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":40,"usr":7826056070666757986,"detailed_name":"int initial_metadata_recv","short_name_offset":4,"short_name_size":21,"hover":"","comments":"","declarations":[],"spell":"261:23-261:44|6|3|2","extent":"261:3-261:44|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":41,"usr":15468604358988514198,"detailed_name":"int trailing_metadata_recv","short_name_offset":4,"short_name_size":22,"hover":"","comments":"","declarations":[],"spell":"262:23-262:45|6|3|2","extent":"262:3-262:45|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":42,"usr":8172431542447820133,"detailed_name":"int request_metadata_recv","short_name_offset":4,"short_name_size":21,"hover":"","comments":"","declarations":[],"spell":"263:23-263:44|6|3|2","extent":"263:3-263:44|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":43,"usr":13440252955385752114,"detailed_name":"int call_details","short_name_offset":4,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"264:21-264:33|6|3|2","extent":"264:3-264:33|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":44,"usr":6993029180173837892,"detailed_name":"int status","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"265:20-265:26|6|3|2","extent":"265:3-265:26|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":45,"usr":11641165132135039928,"detailed_name":"int error","short_name_offset":4,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"266:19-266:24|6|3|2","extent":"266:3-266:24|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":46,"usr":13622550690970719737,"detailed_name":"int details","short_name_offset":4,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"267:14-267:21|6|3|2","extent":"267:3-267:21|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":47,"usr":6944778010245580216,"detailed_name":"int was_cancelled","short_name_offset":4,"short_name_size":13,"hover":"int was_cancelled = 2","comments":"","declarations":[],"spell":"268:7-268:20|6|3|2","extent":"268:3-268:24|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":48,"usr":8728261208796730622,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"","comments":"Send too many pings to the server similar to the previous test case.\nHowever, since we set the MAX_PINGS_WITHOUT_DATA at the client side, only\nMAX_PING_STRIKES will actually be sent and the rpc will still succeed.","declarations":[],"spell":"318:7-318:8|6|3|2","extent":"318:3-318:8|6|3|0","type":0,"uses":["319:8-319:9|6|3|20","319:15-319:16|6|3|12","319:42-319:43|6|3|28","321:9-321:10|6|3|12"],"kind":13,"storage":1},{"id":49,"usr":13429008375853747746,"detailed_name":"int status_details","short_name_offset":4,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"337:14-337:28|6|3|2","extent":"337:3-337:28|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":50,"usr":8039836659890752042,"detailed_name":"int config","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"382:40-382:46|7|3|2","extent":"382:15-382:46|7|3|0","type":0,"uses":[],"kind":253,"storage":1},{"id":51,"usr":8145947634742212328,"detailed_name":"MAX_PING_STRIKES","short_name_offset":0,"short_name_size":16,"hover":"#define MAX_PING_STRIKES 2","comments":"","declarations":[],"spell":"31:9-31:25|-1|1|2","extent":"31:9-31:27|-1|1|0","uses":["87:31-87:47|-1|1|4","162:20-162:36|-1|1|4","165:14-165:30|-1|1|4","235:31-235:47|-1|1|4","246:31-246:47|-1|1|4","319:20-319:36|-1|1|4","321:14-321:30|-1|1|4","360:39-360:55|-1|1|4","361:39-361:55|-1|1|4"],"kind":255,"storage":0}]}