16
{"last_modification_time":1572485069,"language":2,"import_file":"/home/duckonomy/Development/Git/cquery/src/queue_manager.cc","args_hash":8583860895283344595,"includes":[{"line":2,"resolved_path":"/home/duckonomy/Development/Git/cquery/src/method.h"},{"line":3,"resolved_path":"/home/duckonomy/Development/Git/cquery/src/query.h"},{"line":4,"resolved_path":"/home/duckonomy/Development/Git/cquery/src/threaded_queue.h"},{"line":6,"resolved_path":"/usr/include/c++/9/memory"}],"dependencies":["/home/duckonomy/Development/Git/cquery/src/queue_manager.cc","/home/duckonomy/Development/Git/cquery/src/method.h","/home/duckonomy/Development/Git/cquery/src/serializer.h","/home/duckonomy/Development/Git/cquery/src/maybe.h","/usr/include/c++/9/utility","/usr/include/c++/9/x86_64-redhat-linux/bits/c++config.h","/usr/include/bits/wordsize.h"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":14274830329405644576,"detailed_name":"ICacheManager","short_name_offset":0,"short_name_size":13,"kind":23,"hover":"","comments":"","declarations":["9:8-9:21|-1|1|1"],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[],"uses":[]},{"id":1,"usr":300143095866947247,"detailed_name":"lsBaseOutMessage","short_name_offset":0,"short_name_size":16,"kind":23,"hover":"","comments":"","declarations":["10:8-10:24|-1|1|1"],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[],"uses":["78:46-78:62|-1|1|4"]},{"id":2,"usr":7203167473086074517,"detailed_name":"Stdout_Request","short_name_offset":0,"short_name_size":14,"kind":23,"hover":"","comments":"","declarations":[],"spell":"12:8-12:22|-1|1|2","extent":"12:1-15:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[],"vars":[0,1],"instances":[],"uses":[]},{"id":3,"usr":6731817517617395012,"detailed_name":"MethodType","short_name_offset":0,"short_name_size":10,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0],"uses":["13:3-13:13|-1|1|4","78:27-78:37|-1|1|4"]},{"id":4,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[1,3,5,6,8,9,10,13,14,15,16,17,20,22,23,24,25,26,27,28,29,30,31],"uses":[]},{"id":5,"usr":14643856178862623736,"detailed_name":"Index_Request","short_name_offset":0,"short_name_size":13,"kind":23,"hover":"","comments":"","declarations":["26:3-26:16|-1|1|4"],"spell":"17:8-17:21|-1|1|2","extent":"17:1-32:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[0],"vars":[2,3,4,5,6,7],"instances":[],"uses":["26:3-26:16|5|2|4"]},{"id":6,"usr":17585957637430179122,"detailed_name":"AbsolutePath","short_name_offset":0,"short_name_size":12,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[2],"uses":["18:3-18:15|-1|1|4","26:23-26:35|-1|1|4"]},{"id":7,"usr":3,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[4,11,12,18,19],"uses":[]},{"id":8,"usr":4852724437194892982,"detailed_name":"lsRequestId","short_name_offset":0,"short_name_size":11,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[7],"uses":["24:3-24:14|-1|1|4","31:17-31:28|-1|1|4"]},{"id":9,"usr":5506133623767056817,"detailed_name":"Index_DoIdMap","short_name_offset":0,"short_name_size":13,"kind":23,"hover":"","comments":"","declarations":["42:3-42:16|-1|1|4"],"spell":"34:8-34:21|-1|1|2","extent":"34:1-46:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[1],"vars":[8,9,10,11,12],"instances":[],"uses":["42:3-42:16|9|2|4"]},{"id":10,"usr":9528348778809100894,"detailed_name":"Index_OnIdMapped","short_name_offset":0,"short_name_size":16,"kind":23,"hover":"","comments":"","declarations":["63:3-63:19|-1|1|4"],"spell":"48:8-48:24|-1|1|2","extent":"48:1-66:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[3],"vars":[15,16,17,18,19],"instances":[],"uses":["63:3-63:19|10|2|4"]},{"id":11,"usr":3025962341061353579,"detailed_name":"Index_OnIdMapped::File","short_name_offset":18,"short_name_size":4,"kind":23,"hover":"","comments":"","declarations":["53:5-53:9|-1|1|4"],"spell":"49:10-49:14|10|2|2","extent":"49:3-54:4|10|2|0","bases":[],"derived":[],"types":[],"funcs":[2],"vars":[13,14],"instances":[],"uses":["53:5-53:9|11|2|4"]},{"id":12,"usr":14333584129156125540,"detailed_name":"Index_OnIndexed","short_name_offset":0,"short_name_size":15,"kind":23,"hover":"","comments":"","declarations":["71:3-71:18|-1|1|4"],"spell":"68:8-68:23|-1|1|2","extent":"68:1-72:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[4],"vars":[20],"instances":[],"uses":["71:3-71:18|12|2|4"]},{"id":13,"usr":13468436934693600766,"detailed_name":"QueueManager","short_name_offset":0,"short_name_size":12,"kind":5,"hover":"","comments":"","declarations":["106:12-106:24|-1|1|4"],"spell":"74:7-74:19|-1|1|2","extent":"74:1-111:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[5,6,7,8,9],"vars":[22,23,24,25,26,27,28,29,30,31],"instances":[21,21],"uses":["76:10-76:22|-1|1|4","106:12-106:24|13|2|4","110:10-110:22|-1|1|4"]}],"funcs":[{"id":0,"usr":17325930745095294057,"detailed_name":"Index_Request::Index_Request(const AbsolutePath &path, const int &args, bool is_interactive, const int &contents, const int &cache_manager, lsRequestId id = {})","short_name_offset":0,"short_name_size":13,"kind":9,"storage":1,"hover":"","comments":"","declarations":[{"spell":"26:3-26:16|5|2|1","param_spellings":["26:37-26:41","27:49-27:53","28:22-28:36","29:46-29:54","30:55-30:68","31:29-31:31"]}],"declaring_type":5,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":1,"usr":879953561008830930,"detailed_name":"Index_DoIdMap::Index_DoIdMap(int current, const int &cache_manager, bool is_interactive, bool write_to_disk)","short_name_offset":0,"short_name_size":13,"kind":9,"storage":1,"hover":"","comments":"","declarations":[{"spell":"42:3-42:16|9|2|1","param_spellings":["42:44-42:51","43:55-43:68","44:22-44:36","45:22-45:35"]}],"declaring_type":9,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":2,"usr":18405264113609840558,"detailed_name":"Index_OnIdMapped::File::File(int file, int ids)","short_name_offset":18,"short_name_size":4,"kind":9,"storage":1,"hover":"","comments":"","declarations":[{"spell":"53:5-53:9|11|2|1","param_spellings":["53:37-53:41","53:66-53:69"]}],"declaring_type":11,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":3,"usr":16454843574678281959,"detailed_name":"Index_OnIdMapped::Index_OnIdMapped(const int &cache_manager, bool is_interactive, bool write_to_disk)","short_name_offset":0,"short_name_size":16,"kind":9,"storage":1,"hover":"","comments":"","declarations":[{"spell":"63:3-63:19|10|2|1","param_spellings":["63:58-63:71","64:25-64:39","65:25-65:38"]}],"declaring_type":10,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":4,"usr":1909439148450479216,"detailed_name":"Index_OnIndexed::Index_OnIndexed(int &&update)","short_name_offset":0,"short_name_size":15,"kind":9,"storage":1,"hover":"","comments":"","declarations":[{"spell":"71:3-71:18|12|2|1","param_spellings":["71:33-71:39"]}],"declaring_type":12,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":5,"usr":14421658365754641705,"detailed_name":"static QueueManager *QueueManager::instance()","short_name_offset":35,"short_name_size":8,"kind":254,"storage":3,"hover":"","comments":"","declarations":[],"spell":"76:24-76:32|13|2|2","extent":"76:3-76:56|13|2|0","declaring_type":13,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":6,"usr":12369255059730836931,"detailed_name":"static void QueueManager::Init()","short_name_offset":26,"short_name_size":4,"kind":254,"storage":3,"hover":"","comments":"static","declarations":[{"spell":"77:15-77:19|13|2|1","param_spellings":[]}],"declaring_type":13,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":7,"usr":5968358346812514243,"detailed_name":"static void QueueManager::WriteStdout(MethodType method, lsBaseOutMessage &response)","short_name_offset":26,"short_name_size":11,"kind":254,"storage":3,"hover":"","comments":"static","declarations":[{"spell":"78:15-78:26|13|2|1","param_spellings":["78:38-78:44","78:64-78:72"]}],"declaring_type":13,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":8,"usr":11772545466146069646,"detailed_name":"bool QueueManager::HasWork()","short_name_offset":19,"short_name_size":7,"kind":6,"storage":1,"hover":"","comments":"","declarations":[{"spell":"80:8-80:15|13|2|1","param_spellings":[]}],"declaring_type":13,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]},{"id":9,"usr":15884488868348709887,"detailed_name":"explicit QueueManager::QueueManager()","short_name_offset":9,"short_name_size":12,"kind":9,"storage":1,"hover":"","comments":"","declarations":[{"spell":"106:12-106:24|13|2|1","param_spellings":[]}],"declaring_type":13,"bases":[],"derived":[],"vars":[],"uses":[],"callees":[]}],"vars":[{"id":0,"usr":4436091125421816107,"detailed_name":"MethodType Stdout_Request::method","short_name_offset":27,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"13:14-13:20|2|2|2","extent":"13:3-13:20|2|2|0","type":3,"uses":[],"kind":8,"storage":0},{"id":1,"usr":9874433458910027345,"detailed_name":"int Stdout_Request::content","short_name_offset":20,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"14:15-14:22|2|2|2","extent":"14:3-14:22|2|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":2,"usr":8673075745389197657,"detailed_name":"AbsolutePath Index_Request::path","short_name_offset":28,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"18:16-18:20|5|2|2","extent":"18:3-18:20|5|2|0","type":6,"uses":[],"kind":8,"storage":0},{"id":3,"usr":8847096276605231205,"detailed_name":"int Index_Request::args","short_name_offset":19,"short_name_size":4,"hover":"","comments":"TODO: make |args| a string that is parsed lazily.","declarations":[],"spell":"20:28-20:32|5|2|2","extent":"20:3-20:32|5|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":4,"usr":6635857385308941365,"detailed_name":"bool Index_Request::is_interactive","short_name_offset":20,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"21:8-21:22|5|2|2","extent":"21:3-21:22|5|2|0","type":7,"uses":[],"kind":8,"storage":0},{"id":5,"usr":16102114093913005069,"detailed_name":"int Index_Request::contents","short_name_offset":19,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"22:25-22:33|5|2|2","extent":"22:3-22:33|5|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":6,"usr":15042052390406879153,"detailed_name":"int Index_Request::cache_manager","short_name_offset":19,"short_name_size":13,"hover":"","comments":"","declarations":[],"spell":"23:34-23:47|5|2|2","extent":"23:3-23:47|5|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":7,"usr":2197029290555706969,"detailed_name":"lsRequestId Index_Request::id","short_name_offset":27,"short_name_size":2,"hover":"","comments":"","declarations":[],"spell":"24:15-24:17|5|2|2","extent":"24:3-24:17|5|2|0","type":8,"uses":[],"kind":8,"storage":0},{"id":8,"usr":11959580117200862667,"detailed_name":"int Index_DoIdMap::current","short_name_offset":19,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"35:30-35:37|9|2|2","extent":"35:3-35:37|9|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":9,"usr":18323265846674248096,"detailed_name":"int Index_DoIdMap::previous","short_name_offset":19,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"36:30-36:38|9|2|2","extent":"36:3-36:38|9|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":10,"usr":10714042006282412826,"detailed_name":"int Index_DoIdMap::cache_manager","short_name_offset":19,"short_name_size":13,"hover":"","comments":"","declarations":[],"spell":"37:34-37:47|9|2|2","extent":"37:3-37:47|9|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":11,"usr":6476255349685050992,"detailed_name":"bool Index_DoIdMap::is_interactive","short_name_offset":20,"short_name_size":14,"hover":"bool Index_DoIdMap::is_interactive = false","comments":"","declarations":[],"spell":"39:8-39:22|9|2|2","extent":"39:3-39:30|9|2|0","type":7,"uses":[],"kind":8,"storage":0},{"id":12,"usr":4982990105054733660,"detailed_name":"bool Index_DoIdMap::write_to_disk","short_name_offset":20,"short_name_size":13,"hover":"bool Index_DoIdMap::write_to_disk = false","comments":"","declarations":[],"spell":"40:8-40:21|9|2|2","extent":"40:3-40:29|9|2|0","type":7,"uses":[],"kind":8,"storage":0},{"id":13,"usr":16993280697392399576,"detailed_name":"int Index_OnIdMapped::File::file","short_name_offset":28,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"50:32-50:36|11|2|2","extent":"50:5-50:36|11|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":14,"usr":15067602155633619205,"detailed_name":"int Index_OnIdMapped::File::ids","short_name_offset":28,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"51:28-51:31|11|2|2","extent":"51:5-51:31|11|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":15,"usr":6121216866370827710,"detailed_name":"int Index_OnIdMapped::previous","short_name_offset":22,"short_name_size":8,"hover":"","comments":"","declarations":[],"spell":"56:25-56:33|10|2|2","extent":"56:3-56:33|10|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":16,"usr":17803997672197992852,"detailed_name":"int Index_OnIdMapped::current","short_name_offset":22,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"57:25-57:32|10|2|2","extent":"57:3-57:32|10|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":17,"usr":12227002892394969701,"detailed_name":"int Index_OnIdMapped::cache_manager","short_name_offset":22,"short_name_size":13,"hover":"","comments":"","declarations":[],"spell":"58:34-58:47|10|2|2","extent":"58:3-58:47|10|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":18,"usr":5782113890891816829,"detailed_name":"bool Index_OnIdMapped::is_interactive","short_name_offset":23,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"60:8-60:22|10|2|2","extent":"60:3-60:22|10|2|0","type":7,"uses":[],"kind":8,"storage":0},{"id":19,"usr":16868821181172757559,"detailed_name":"bool Index_OnIdMapped::write_to_disk","short_name_offset":23,"short_name_size":13,"hover":"","comments":"","declarations":[],"spell":"61:8-61:21|10|2|2","extent":"61:3-61:21|10|2|0","type":7,"uses":[],"kind":8,"storage":0},{"id":20,"usr":17786442447592288013,"detailed_name":"int Index_OnIndexed::update","short_name_offset":21,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"69:15-69:21|12|2|2","extent":"69:3-69:21|12|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":21,"usr":9655694033649098207,"detailed_name":"QueueManager *QueueManager::instance_","short_name_offset":28,"short_name_size":9,"hover":"","comments":"Note: we do not destroy |instance_| on shutdown; see\nhttps://github.com/cquery-project/cquery/issues/695","declarations":["110:24-110:33|13|2|1"],"spell":"110:24-110:33|5|3|2","extent":"110:3-110:33|5|3|0","type":13,"uses":["76:44-76:53|5|3|12"],"kind":8,"storage":3},{"id":22,"usr":8357403378514752587,"detailed_name":"int QueueManager::querydb_waiter","short_name_offset":18,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"82:37-82:51|13|2|2","extent":"82:3-82:51|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":23,"usr":417765013382189159,"detailed_name":"int QueueManager::indexer_waiter","short_name_offset":18,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"83:37-83:51|13|2|2","extent":"83:3-83:51|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":24,"usr":11682846333071212717,"detailed_name":"int QueueManager::stdout_waiter","short_name_offset":18,"short_name_size":13,"hover":"","comments":"","declarations":[],"spell":"84:37-84:50|13|2|2","extent":"84:3-84:50|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":25,"usr":5100693137379739756,"detailed_name":"int QueueManager::for_stdout","short_name_offset":18,"short_name_size":10,"hover":"","comments":"Messages received by \"stdout\" thread.","declarations":[],"spell":"87:33-87:43|13|2|2","extent":"87:3-87:43|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":26,"usr":13558965346234934481,"detailed_name":"int QueueManager::do_id_map","short_name_offset":18,"short_name_size":9,"hover":"","comments":"","declarations":[],"spell":"91:32-91:41|13|2|2","extent":"91:3-91:41|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":27,"usr":2561822560621882222,"detailed_name":"int QueueManager::index_request","short_name_offset":18,"short_name_size":13,"hover":"","comments":"Runs on indexer threads.","declarations":[],"spell":"94:32-94:45|13|2|2","extent":"94:3-94:45|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":28,"usr":8848607037899805872,"detailed_name":"int QueueManager::load_previous_index","short_name_offset":18,"short_name_size":19,"hover":"","comments":"","declarations":[],"spell":"95:32-95:51|13|2|2","extent":"95:3-95:51|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":29,"usr":17881523097539449725,"detailed_name":"int QueueManager::on_id_mapped","short_name_offset":18,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"96:35-96:47|13|2|2","extent":"96:3-96:47|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":30,"usr":12694758640658648238,"detailed_name":"int QueueManager::on_indexed_for_merge","short_name_offset":18,"short_name_size":20,"hover":"","comments":"Index_OnIndexed is split into two queues. on_indexed_for_querydb is\nlimited to a mediumish length and is handled only by querydb. When that\nlist grows too big, messages are added to on_indexed_for_merge which will\nbe processed by the indexer.","declarations":[],"spell":"102:34-102:54|13|2|2","extent":"102:3-102:54|13|2|0","type":4,"uses":[],"kind":8,"storage":0},{"id":31,"usr":14260451305709357085,"detailed_name":"int QueueManager::on_indexed_for_querydb","short_name_offset":18,"short_name_size":22,"hover":"","comments":"","declarations":[],"spell":"103:34-103:56|13|2|2","extent":"103:3-103:56|13|2|0","type":4,"uses":[],"kind":8,"storage":0}]}