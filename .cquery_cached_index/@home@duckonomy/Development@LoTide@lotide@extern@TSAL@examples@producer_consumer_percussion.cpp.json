16
{"last_modification_time":1575225436,"language":2,"import_file":"/home/duckonomy/Development/LoTide/lotide/extern/TSAL/examples/producer_consumer_percussion.cpp","args_hash":8583860895283344595,"includes":[{"line":1,"resolved_path":"/usr/include/c++/9/thread"},{"line":2,"resolved_path":"/usr/include/c++/9/condition_variable"},{"line":3,"resolved_path":"/usr/include/c++/9/iostream"},{"line":4,"resolved_path":"/usr/include/c++/9/queue"}],"dependencies":["/usr/include/c++/9/thread","/usr/include/c++/9/chrono","/usr/include/c++/9/ratio","/usr/include/c++/9/type_traits","/usr/include/c++/9/x86_64-redhat-linux/bits/c++config.h","/usr/include/bits/wordsize.h"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":15267445811938560906,"detailed_name":"SharedQueue","short_name_offset":0,"short_name_size":11,"kind":5,"hover":"","comments":"","declarations":[],"spell":"7:7-7:18|-1|1|2","extent":"7:1-35:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[0,1,2],"vars":[2,3,4,5],"instances":[6,10,13,21],"uses":["37:14-37:25|-1|1|4","55:14-55:25|-1|1|4","73:14-73:25|-1|1|4","123:3-123:14|-1|1|4"]},{"id":1,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0,1,3,4,5,7,8,9,11,12,14,15,16,18,19,20,24,25,27,28],"uses":[]},{"id":2,"usr":9,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[2],"uses":[]},{"id":3,"usr":13,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[17],"uses":[]},{"id":4,"usr":1973954582724704049,"detailed_name":"std::thread","short_name_offset":5,"short_name_size":6,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[22,23,26],"uses":["125:8-125:14|-1|1|4","126:8-126:14|-1|1|4","133:8-133:14|-1|1|4"]},{"id":5,"usr":5401847601697785946,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[],"uses":["125:3-125:6|6|3|4","126:3-126:6|6|3|4","133:3-133:6|6|3|4"]}],"funcs":[{"id":0,"usr":17341692696054289759,"detailed_name":"void SharedQueue::produce(int item)","short_name_offset":18,"short_name_size":7,"kind":6,"storage":1,"hover":"","comments":"","declarations":[],"spell":"9:10-9:17|0|2|2","extent":"9:5-16:6|0|2|0","declaring_type":0,"bases":[],"derived":[],"vars":[0],"uses":["65:12-65:19|4|3|36"],"callees":[]},{"id":1,"usr":16348122345201964066,"detailed_name":"int SharedQueue::consume()","short_name_offset":17,"short_name_size":7,"kind":6,"storage":1,"hover":"","comments":"","declarations":[],"spell":"17:9-17:16|0|2|2","extent":"17:5-26:6|0|2|0","declaring_type":0,"bases":[],"derived":[],"vars":[1],"uses":["81:19-81:26|5|3|36"],"callees":[]},{"id":2,"usr":2893922213381076750,"detailed_name":"unsigned int SharedQueue::size()","short_name_offset":26,"short_name_size":4,"kind":6,"storage":1,"hover":"","comments":"","declarations":[],"spell":"27:14-27:18|0|2|2","extent":"27:5-29:6|0|2|0","declaring_type":0,"bases":[],"derived":[],"vars":[],"uses":["46:30-46:34|3|3|36"],"callees":[]},{"id":3,"usr":12194090310074021171,"detailed_name":"void monitor(SharedQueue *queue, int *mixer)","short_name_offset":5,"short_name_size":7,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"37:6-37:13|-1|1|2","extent":"37:1-53:2|-1|1|0","bases":[],"derived":[],"vars":[6,7,8,9],"uses":[],"callees":["46:30-46:34|2|3|36","46:30-46:34|2|3|36"]},{"id":4,"usr":12518040985163627061,"detailed_name":"void produce(SharedQueue *queue, int *mixer)","short_name_offset":5,"short_name_size":7,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"55:6-55:13|-1|1|2","extent":"55:1-71:2|-1|1|0","bases":[],"derived":[],"vars":[10,11,12],"uses":[],"callees":["65:12-65:19|0|3|36"]},{"id":5,"usr":17053046393969294652,"detailed_name":"void consume(SharedQueue *queue, int *mixer)","short_name_offset":5,"short_name_size":7,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"73:6-73:13|-1|1|2","extent":"73:1-87:2|-1|1|0","bases":[],"derived":[],"vars":[13,14,15],"uses":[],"callees":["81:19-81:26|1|3|36"]},{"id":6,"usr":14512784031730521473,"detailed_name":"int main(int argc, char *argv[])","short_name_offset":4,"short_name_size":4,"kind":12,"storage":1,"hover":"","comments":"@example producer_consumer.cpp\n\nProducer and consumer is a common example of synchonization between multiple processes or threads.\nThe SharedQueue class acts as a monitor between the producers and consumers. The sine wave \npitch corresponds to the fullness of the queue, the square wave blips correspond to a production,\nand the saw wave blips correspond to consumption\n\nParse the parameter\\n\nCreate the mixer and the SharedQueue\nStart the producer and consumer threads\nProducer threads:\n- Make a random item\n- Add the item to the queue\n- Play a square wave with pitch based on item\nConsumer threads:\n- Consume an item from the queue\n- Play a saw wave with pitch based on item\nSharedQueue:\n- Provide the synchronized access to the underlying queue\n- Change the pitch of the sine wave whenever a item is added or removed","declarations":[],"spell":"110:5-110:9|-1|1|2","extent":"110:1-144:2|-1|1|0","bases":[],"derived":[],"vars":[16,17,18,19,20,21,22,23,24,25,26,27,28],"uses":[],"callees":["125:15-125:24|7|3|292","125:15-125:24|7|3|292","126:15-126:24|7|3|292","126:15-126:24|7|3|292","136:18-136:22|8|3|36","139:18-139:22|8|3|36","141:18-141:22|8|3|36"]},{"id":7,"usr":17537802891825483258,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"storage":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"vars":[],"uses":["125:15-125:24|6|3|292","126:15-126:24|6|3|292"],"callees":[]},{"id":8,"usr":409786553756579757,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"storage":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"vars":[],"uses":["136:18-136:22|6|3|36","139:18-139:22|6|3|36","141:18-141:22|6|3|36"],"callees":[]}],"vars":[{"id":0,"usr":12041466984654307233,"detailed_name":"int item","short_name_offset":4,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"9:22-9:26|0|3|2","extent":"9:18-9:26|0|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":1,"usr":16404467227727664063,"detailed_name":"const int front","short_name_offset":10,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"20:17-20:22|1|3|2","extent":"20:7-20:22|1|3|0","type":1,"uses":["25:14-25:19|1|3|12"],"kind":13,"storage":1},{"id":2,"usr":17394528692318399533,"detailed_name":"unsigned int SharedQueue::MaxQueueSize","short_name_offset":26,"short_name_size":12,"hover":"unsigned int SharedQueue::MaxQueueSize = 12","comments":"","declarations":[],"spell":"30:14-30:26|0|2|2","extent":"30:5-30:31|0|2|0","type":2,"uses":[],"kind":8,"storage":0},{"id":3,"usr":1576883563771571935,"detailed_name":"int SharedQueue::mCondition","short_name_offset":17,"short_name_size":10,"hover":"","comments":"","declarations":[],"spell":"32:29-32:39|0|2|2","extent":"32:5-32:39|0|2|0","type":1,"uses":[],"kind":8,"storage":0},{"id":4,"usr":12600959276756058973,"detailed_name":"int SharedQueue::mMutex","short_name_offset":17,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"33:16-33:22|0|2|2","extent":"33:5-33:22|0|2|0","type":1,"uses":[],"kind":8,"storage":0},{"id":5,"usr":4887108725561910448,"detailed_name":"int SharedQueue::mQueue","short_name_offset":17,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"34:21-34:27|0|2|2","extent":"34:5-34:27|0|2|0","type":1,"uses":[],"kind":8,"storage":0},{"id":6,"usr":13079969722768335201,"detailed_name":"SharedQueue *queue","short_name_offset":13,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"37:27-37:32|3|3|2","extent":"37:14-37:32|3|3|0","type":0,"uses":["46:23-46:28|3|3|12"],"kind":253,"storage":1},{"id":7,"usr":7659065596666638835,"detailed_name":"int *mixer","short_name_offset":5,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"37:47-37:52|3|3|2","extent":"37:34-37:52|3|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":8,"usr":1925240650526616504,"detailed_name":"int size","short_name_offset":4,"short_name_size":4,"hover":"int size = 0","comments":"","declarations":[],"spell":"42:7-42:11|3|3|2","extent":"42:3-42:15|3|3|0","type":1,"uses":["47:9-47:13|3|3|12","50:7-50:11|3|3|20"],"kind":13,"storage":1},{"id":9,"usr":11053646727514023084,"detailed_name":"int currentSize","short_name_offset":4,"short_name_size":11,"hover":"int currentSize = queue->size()","comments":"","declarations":[],"spell":"46:9-46:20|3|3|2","extent":"46:5-46:36|3|3|0","type":1,"uses":["47:17-47:28|3|3|12","50:14-50:25|3|3|12"],"kind":13,"storage":1},{"id":10,"usr":9056815127599305646,"detailed_name":"SharedQueue *queue","short_name_offset":13,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"55:27-55:32|4|3|2","extent":"55:14-55:32|4|3|0","type":0,"uses":["65:5-65:10|4|3|12"],"kind":253,"storage":1},{"id":11,"usr":5721564804781337637,"detailed_name":"int *mixer","short_name_offset":5,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"55:47-55:52|4|3|2","extent":"55:34-55:52|4|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":12,"usr":739540525704700475,"detailed_name":"int item","short_name_offset":4,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"60:7-60:11|4|3|2","extent":"60:3-60:11|4|3|0","type":1,"uses":["65:20-65:24|4|3|12"],"kind":13,"storage":1},{"id":13,"usr":16281608955397850953,"detailed_name":"SharedQueue *queue","short_name_offset":13,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"73:27-73:32|5|3|2","extent":"73:14-73:32|5|3|0","type":0,"uses":["81:12-81:17|5|3|12"],"kind":253,"storage":1},{"id":14,"usr":3356573870563444473,"detailed_name":"int *mixer","short_name_offset":5,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"73:47-73:52|5|3|2","extent":"73:34-73:52|5|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":15,"usr":5282849673171303638,"detailed_name":"int item","short_name_offset":4,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"78:7-78:11|5|3|2","extent":"78:3-78:11|5|3|0","type":1,"uses":["81:5-81:9|5|3|20"],"kind":13,"storage":1},{"id":16,"usr":5649578543749767990,"detailed_name":"int argc","short_name_offset":4,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"110:14-110:18|6|3|2","extent":"110:10-110:18|6|3|0","type":1,"uses":["111:7-111:11|6|3|12"],"kind":253,"storage":1},{"id":17,"usr":6235094609574150014,"detailed_name":"char *[] argv","short_name_offset":9,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"110:26-110:30|6|3|2","extent":"110:20-110:32|6|3|0","type":3,"uses":[],"kind":253,"storage":1},{"id":18,"usr":7083144744224638773,"detailed_name":"const int numProducers","short_name_offset":10,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"119:13-119:25|6|3|2","extent":"119:3-119:25|6|3|0","type":1,"uses":["125:25-125:37|-1|1|4","127:23-127:35|6|3|12","135:23-135:35|6|3|12"],"kind":13,"storage":1},{"id":19,"usr":8376345618511951721,"detailed_name":"const int numConsumers","short_name_offset":10,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"120:13-120:25|6|3|2","extent":"120:3-120:25|6|3|0","type":1,"uses":["126:25-126:37|-1|1|4","130:23-130:35|6|3|12","138:23-138:35|6|3|12"],"kind":13,"storage":1},{"id":20,"usr":6497664849022977283,"detailed_name":"int mixer","short_name_offset":4,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"121:15-121:20|6|3|2","extent":"121:3-121:20|6|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":21,"usr":18248009074003772714,"detailed_name":"SharedQueue queue","short_name_offset":12,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"123:15-123:20|6|3|2","extent":"123:3-123:20|6|3|0","type":0,"uses":[],"kind":13,"storage":1},{"id":22,"usr":17371142837824281158,"detailed_name":"std::thread [numProducers] producers","short_name_offset":27,"short_name_size":9,"hover":"","comments":"","declarations":[],"spell":"125:15-125:24|6|3|2","extent":"125:3-125:38|6|3|0","type":4,"uses":["136:5-136:14|6|3|4"],"kind":13,"storage":1},{"id":23,"usr":12549712588418279052,"detailed_name":"std::thread [numConsumers] consumers","short_name_offset":27,"short_name_size":9,"hover":"","comments":"","declarations":[],"spell":"126:15-126:24|6|3|2","extent":"126:3-126:38|6|3|0","type":4,"uses":["139:5-139:14|6|3|4"],"kind":13,"storage":1},{"id":24,"usr":11715295570264422975,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"127:12-127:13|6|3|2","extent":"127:8-127:17|6|3|0","type":1,"uses":["127:19-127:20|6|3|12","127:37-127:38|6|3|28"],"kind":13,"storage":1},{"id":25,"usr":774392258475339941,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"130:12-130:13|6|3|2","extent":"130:8-130:17|6|3|0","type":1,"uses":["130:19-130:20|6|3|12","130:37-130:38|6|3|28"],"kind":13,"storage":1},{"id":26,"usr":18258864169869672058,"detailed_name":"std::thread monitor_thread","short_name_offset":12,"short_name_size":14,"hover":"","comments":"","declarations":[],"spell":"133:15-133:29|6|3|2","extent":"133:3-133:29|6|3|0","type":4,"uses":["141:3-141:17|6|3|4"],"kind":13,"storage":1},{"id":27,"usr":519553162664641529,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"135:12-135:13|6|3|2","extent":"135:8-135:17|6|3|0","type":1,"uses":["135:19-135:20|6|3|12","135:37-135:38|6|3|28","136:15-136:16|6|3|12"],"kind":13,"storage":1},{"id":28,"usr":10776079499895076251,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"138:12-138:13|6|3|2","extent":"138:8-138:17|6|3|0","type":1,"uses":["138:19-138:20|6|3|12","138:37-138:38|6|3|28","139:15-139:16|6|3|12"],"kind":13,"storage":1}]}