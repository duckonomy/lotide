16
{"last_modification_time":1575142369,"language":2,"import_file":"/home/duckonomy/TSAL/examples/producer_consumer.cpp","args_hash":8583860895283344595,"includes":[{"line":1,"resolved_path":"/usr/include/c++/9/thread"},{"line":2,"resolved_path":"/usr/include/c++/9/condition_variable"},{"line":3,"resolved_path":"/usr/include/c++/9/iostream"},{"line":4,"resolved_path":"/usr/include/c++/9/queue"}],"dependencies":["/usr/include/c++/9/thread","/usr/include/c++/9/chrono","/usr/include/c++/9/ratio","/usr/include/c++/9/type_traits","/usr/include/c++/9/x86_64-redhat-linux/bits/c++config.h","/usr/include/bits/wordsize.h"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":3,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0],"uses":[]},{"id":1,"usr":15267445811938560906,"detailed_name":"SharedQueue","short_name_offset":0,"short_name_size":11,"kind":5,"hover":"","comments":"","declarations":[],"spell":"11:7-11:18|-1|1|2","extent":"11:1-51:2|-1|1|0","bases":[],"derived":[],"types":[],"funcs":[0,1],"vars":[5,6,7,8],"instances":[9,12,20],"uses":["53:14-53:25|-1|1|4","67:14-67:25|-1|1|4","111:3-111:14|-1|1|4"]},{"id":2,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[1,2,3,4,5,6,7,10,11,13,14,15,17,18,19,23,24,26,27],"uses":[]},{"id":3,"usr":9,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[8],"uses":[]},{"id":4,"usr":13,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[16,25],"uses":[]},{"id":5,"usr":1973954582724704049,"detailed_name":"std::thread","short_name_offset":5,"short_name_size":6,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[21,22],"uses":["113:8-113:14|-1|1|4","114:8-114:14|-1|1|4"]},{"id":6,"usr":5401847601697785946,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[],"uses":["113:3-113:6|4|3|4","114:3-114:6|4|3|4"]}],"funcs":[{"id":0,"usr":14915839371163534978,"detailed_name":"void SharedQueue::produce(int *item)","short_name_offset":18,"short_name_size":7,"kind":6,"storage":1,"hover":"","comments":"","declarations":[],"spell":"13:10-13:17|1|2|2","extent":"13:5-27:6|1|2|0","declaring_type":1,"bases":[],"derived":[],"vars":[1,2],"uses":[],"callees":[]},{"id":1,"usr":16348122345201964066,"detailed_name":"int *SharedQueue::consume()","short_name_offset":18,"short_name_size":7,"kind":6,"storage":1,"hover":"","comments":"","declarations":[],"spell":"29:12-29:19|1|2|2","extent":"29:5-45:6|1|2|0","declaring_type":1,"bases":[],"derived":[],"vars":[3,4],"uses":[],"callees":[]},{"id":2,"usr":12518040985163627061,"detailed_name":"void produce(SharedQueue *queue, int *mixer)","short_name_offset":5,"short_name_size":7,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"53:6-53:13|-1|1|2","extent":"53:1-65:2|-1|1|0","bases":[],"derived":[],"vars":[9,10,11],"uses":[],"callees":[]},{"id":3,"usr":17053046393969294652,"detailed_name":"void consume(SharedQueue *queue, int *mixer)","short_name_offset":5,"short_name_size":7,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"67:6-67:13|-1|1|2","extent":"67:1-76:2|-1|1|0","bases":[],"derived":[],"vars":[12,13,14],"uses":[],"callees":[]},{"id":4,"usr":14512784031730521473,"detailed_name":"int main(int argc, char *argv[])","short_name_offset":4,"short_name_size":4,"kind":12,"storage":1,"hover":"","comments":"@example producer_consumer.cpp\n\nProducer and consumer is a common example of synchonization between multiple processes or threads.\nThe SharedQueue class acts as a monitor between the producers and consumers. The sine wave \npitch corresponds to the fullness of the queue, the square wave blips correspond to a production,\nand the saw wave blips correspond to consumption\n\nParse the parameter\\n\nCreate the mixer and the SharedQueue\nStart the producer and consumer threads\nProducer threads:\n- Make a random item\n- Add the item to the queue\n- Play a square wave with pitch based on item\nConsumer threads:\n- Consume an item from the queue\n- Play a saw wave with pitch based on item\nSharedQueue:\n- Provide the synchronized access to the underlying queue\n- Change the pitch of the sine wave whenever a item is added or removed","declarations":[],"spell":"99:5-99:9|-1|1|2","extent":"99:1-137:2|-1|1|0","bases":[],"derived":[],"vars":[15,16,17,18,19,20,21,22,23,24,25,26,27],"uses":[],"callees":["113:15-113:24|5|3|292","113:15-113:24|5|3|292","114:15-114:24|5|3|292","114:15-114:24|5|3|292","130:18-130:22|6|3|36","133:18-133:22|6|3|36"]},{"id":5,"usr":17537802891825483258,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"storage":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"vars":[],"uses":["113:15-113:24|4|3|292","114:15-114:24|4|3|292"],"callees":[]},{"id":6,"usr":409786553756579757,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"storage":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"vars":[],"uses":["130:18-130:22|4|3|36","133:18-133:22|4|3|36"],"callees":[]}],"vars":[{"id":0,"usr":1731118530446375674,"detailed_name":"bool run","short_name_offset":5,"short_name_size":3,"hover":"bool run = true","comments":"","declarations":[],"spell":"9:6-9:9|-1|1|2","extent":"9:1-9:16|-1|1|0","type":0,"uses":["55:10-55:13|2|3|12","69:10-69:13|3|3|12","126:3-126:6|4|3|20"],"kind":13,"storage":1},{"id":1,"usr":244961936382861498,"detailed_name":"int *item","short_name_offset":5,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"13:25-13:29|0|3|2","extent":"13:18-13:29|0|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":2,"usr":1782758073552047901,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"17:16-17:17|0|3|2","extent":"17:12-17:21|0|3|0","type":2,"uses":["17:23-17:24|0|3|12","17:32-17:33|0|3|28"],"kind":13,"storage":1},{"id":3,"usr":12597395959606710853,"detailed_name":"int *front","short_name_offset":5,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"32:14-32:19|1|3|2","extent":"32:7-32:19|1|3|0","type":2,"uses":[],"kind":13,"storage":1},{"id":4,"usr":49212158376644223,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"35:16-35:17|1|3|2","extent":"35:12-35:21|1|3|0","type":2,"uses":["35:23-35:24|1|3|12","35:32-35:33|1|3|28"],"kind":13,"storage":1},{"id":5,"usr":1576883563771571935,"detailed_name":"int SharedQueue::mCondition","short_name_offset":17,"short_name_size":10,"hover":"","comments":"","declarations":[],"spell":"47:29-47:39|1|2|2","extent":"47:5-47:39|1|2|0","type":2,"uses":[],"kind":8,"storage":0},{"id":6,"usr":12600959276756058973,"detailed_name":"int SharedQueue::mMutex","short_name_offset":17,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"48:16-48:22|1|2|2","extent":"48:5-48:22|1|2|0","type":2,"uses":[],"kind":8,"storage":0},{"id":7,"usr":4887108725561910448,"detailed_name":"int SharedQueue::mQueue","short_name_offset":17,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"49:24-49:30|1|2|2","extent":"49:5-49:30|1|2|0","type":2,"uses":[],"kind":8,"storage":0},{"id":8,"usr":16890416110924950289,"detailed_name":"unsigned int SharedQueue::mMaxQueueSize","short_name_offset":26,"short_name_size":13,"hover":"unsigned int SharedQueue::mMaxQueueSize = 12","comments":"","declarations":[],"spell":"50:14-50:27|1|2|2","extent":"50:5-50:32|1|2|0","type":3,"uses":[],"kind":8,"storage":0},{"id":9,"usr":4908566247100989106,"detailed_name":"SharedQueue *queue","short_name_offset":13,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"53:27-53:32|2|3|2","extent":"53:14-53:32|2|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":10,"usr":14055204306350870349,"detailed_name":"int *mixer","short_name_offset":5,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"53:41-53:46|2|3|2","extent":"53:34-53:46|2|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":11,"usr":5630288039618524903,"detailed_name":"int *item","short_name_offset":5,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"54:10-54:14|2|3|2","extent":"54:3-54:14|2|3|0","type":2,"uses":[],"kind":13,"storage":1},{"id":12,"usr":16879680512367571326,"detailed_name":"SharedQueue *queue","short_name_offset":13,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"67:27-67:32|3|3|2","extent":"67:14-67:32|3|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":13,"usr":10548134174793804536,"detailed_name":"int *mixer","short_name_offset":5,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"67:41-67:46|3|3|2","extent":"67:34-67:46|3|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":14,"usr":17197134372258639984,"detailed_name":"int *item","short_name_offset":5,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"68:10-68:14|3|3|2","extent":"68:3-68:14|3|3|0","type":2,"uses":[],"kind":13,"storage":1},{"id":15,"usr":16951527125955788154,"detailed_name":"int argc","short_name_offset":4,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"99:14-99:18|4|3|2","extent":"99:10-99:18|4|3|0","type":2,"uses":["100:7-100:11|4|3|12"],"kind":253,"storage":1},{"id":16,"usr":8435847726573631944,"detailed_name":"char *[] argv","short_name_offset":9,"short_name_size":4,"hover":"","comments":"","declarations":[],"spell":"99:26-99:30|4|3|2","extent":"99:20-99:32|4|3|0","type":4,"uses":[],"kind":253,"storage":1},{"id":17,"usr":15452883769184850402,"detailed_name":"const int numProducers","short_name_offset":10,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"108:13-108:25|4|3|2","extent":"108:3-108:25|4|3|0","type":2,"uses":["113:25-113:37|-1|1|4","115:23-115:35|4|3|12","129:23-129:35|4|3|12"],"kind":13,"storage":1},{"id":18,"usr":5678904991265159621,"detailed_name":"const int numConsumers","short_name_offset":10,"short_name_size":12,"hover":"","comments":"","declarations":[],"spell":"109:13-109:25|4|3|2","extent":"109:3-109:25|4|3|0","type":2,"uses":["114:25-114:37|-1|1|4","118:23-118:35|4|3|12","132:23-132:35|4|3|12"],"kind":13,"storage":1},{"id":19,"usr":12818454278013183349,"detailed_name":"int mixer","short_name_offset":4,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"110:9-110:14|4|3|2","extent":"110:3-110:14|4|3|0","type":2,"uses":[],"kind":13,"storage":1},{"id":20,"usr":10078991377635817447,"detailed_name":"SharedQueue queue","short_name_offset":12,"short_name_size":5,"hover":"","comments":"","declarations":[],"spell":"111:15-111:20|4|3|2","extent":"111:3-111:20|4|3|0","type":1,"uses":[],"kind":13,"storage":1},{"id":21,"usr":3543739841026331697,"detailed_name":"std::thread [numProducers] producers","short_name_offset":27,"short_name_size":9,"hover":"","comments":"","declarations":[],"spell":"113:15-113:24|4|3|2","extent":"113:3-113:38|4|3|0","type":5,"uses":["130:5-130:14|4|3|4"],"kind":13,"storage":1},{"id":22,"usr":14043905286971164310,"detailed_name":"std::thread [numConsumers] consumers","short_name_offset":27,"short_name_size":9,"hover":"","comments":"","declarations":[],"spell":"114:15-114:24|4|3|2","extent":"114:3-114:38|4|3|0","type":5,"uses":["133:5-133:14|4|3|4"],"kind":13,"storage":1},{"id":23,"usr":17477900694328197375,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"115:12-115:13|4|3|2","extent":"115:8-115:17|4|3|0","type":2,"uses":["115:19-115:20|4|3|12","115:37-115:38|4|3|28"],"kind":13,"storage":1},{"id":24,"usr":7306341802410878085,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"118:12-118:13|4|3|2","extent":"118:8-118:17|4|3|0","type":2,"uses":["118:19-118:20|4|3|12","118:37-118:38|4|3|28"],"kind":13,"storage":1},{"id":25,"usr":12118308034500876469,"detailed_name":"char input","short_name_offset":5,"short_name_size":5,"hover":"","comments":"Wait for the user to stop the synth","declarations":[],"spell":"123:8-123:13|4|3|2","extent":"123:3-123:13|4|3|0","type":4,"uses":[],"kind":13,"storage":1},{"id":26,"usr":6878160845100729637,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"129:12-129:13|4|3|2","extent":"129:8-129:17|4|3|0","type":2,"uses":["129:19-129:20|4|3|12","129:37-129:38|4|3|28","130:15-130:16|4|3|12"],"kind":13,"storage":1},{"id":27,"usr":1628289469983327034,"detailed_name":"int i","short_name_offset":4,"short_name_size":1,"hover":"int i = 0","comments":"","declarations":[],"spell":"132:12-132:13|4|3|2","extent":"132:8-132:17|4|3|0","type":2,"uses":["132:19-132:20|4|3|12","132:37-132:38|4|3|28","133:15-133:16|4|3|12"],"kind":13,"storage":1}]}