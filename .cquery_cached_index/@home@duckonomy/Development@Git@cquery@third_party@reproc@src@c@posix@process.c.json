16
{"last_modification_time":1572485085,"language":1,"import_file":"/home/duckonomy/Development/Git/cquery/third_party/reproc/src/c/posix/process.c","args_hash":11184243650414851951,"includes":[{"line":0,"resolved_path":"/home/duckonomy/Development/Git/cquery/third_party/reproc/src/c/posix/process.h"},{"line":2,"resolved_path":"/home/duckonomy/Development/Git/cquery/third_party/reproc/src/c/posix/fork.h"},{"line":4,"resolved_path":"/usr/include/assert.h"},{"line":5,"resolved_path":"/usr/include/errno.h"},{"line":6,"resolved_path":"/usr/include/signal.h"},{"line":7,"resolved_path":"/usr/include/sys/wait.h"},{"line":8,"resolved_path":"/usr/include/unistd.h"}],"dependencies":["/home/duckonomy/Development/Git/cquery/third_party/reproc/src/c/posix/process.h","/usr/include/sys/types.h","/usr/include/features.h","/usr/include/sys/cdefs.h","/usr/include/gnu/stubs.h","/usr/include/bits/types.h","/usr/include/bits/types/clock_t.h","/usr/include/bits/types/clockid_t.h","/usr/include/bits/types/time_t.h","/usr/include/bits/types/timer_t.h","/usr/include/bits/stdint-intn.h","/usr/include/endian.h","/usr/include/bits/byteswap.h","/usr/include/bits/uintn-identity.h","/usr/include/sys/select.h","/usr/include/bits/select.h","/usr/include/bits/types/sigset_t.h","/usr/include/bits/types/struct_timeval.h","/usr/include/bits/types/struct_timespec.h","/usr/include/bits/pthreadtypes.h","/usr/include/bits/thread-shared-types.h","/usr/include/bits/pthreadtypes-arch.h","/usr/lib/clang/7.0.0/include/stddef.h","/usr/include/bits/types/__sigset_t.h","/usr/include/stdc-predef.h","/usr/include/bits/wordsize.h","/usr/include/gnu/stubs-64.h","/usr/include/bits/timesize.h","/usr/include/bits/typesizes.h","/usr/include/bits/time64.h","/usr/include/bits/endian.h"],"skipped_by_preprocessor":[],"types":[{"id":0,"usr":17,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[0,3,7,12],"uses":[]},{"id":1,"usr":13646527443270226030,"detailed_name":"pid_t","short_name_offset":0,"short_name_size":5,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[1,4,5,8,11,13,14,17,20],"uses":["23:34-23:39|-1|1|4","28:3-28:8|-1|1|4","41:35-41:40|-1|1|4","58:34-58:39|-1|1|4","70:3-70:8|-1|1|4","80:3-80:8|-1|1|4","112:27-112:32|-1|1|4","122:32-122:37|-1|1|4","131:27-131:32|-1|1|4"]},{"id":2,"usr":9,"detailed_name":"","short_name_offset":0,"short_name_size":0,"kind":0,"hover":"","comments":"","declarations":[],"bases":[],"derived":[],"types":[],"funcs":[],"vars":[],"instances":[2,6,9,10,15,16,18,19,21,22],"uses":[]}],"funcs":[{"id":0,"usr":11498107635716405102,"detailed_name":"static unsigned int parse_exit_status(int status)","short_name_offset":20,"short_name_size":17,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"11:21-11:38|-1|1|2","extent":"11:1-21:2|-1|1|0","bases":[],"derived":[],"vars":[0],"uses":["36:37-36:54|1|3|36","52:37-52:54|2|3|36","107:37-107:54|3|3|36"],"callees":[]},{"id":1,"usr":161851899651105508,"detailed_name":"static int wait_no_hang(pid_t pid, unsigned int *exit_status)","short_name_offset":11,"short_name_size":12,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"23:21-23:33|-1|1|2","extent":"23:1-39:2|-1|1|0","bases":[],"derived":[],"vars":[1,2,3,4],"uses":[],"callees":["36:37-36:54|0|3|36"]},{"id":2,"usr":4391917899557038291,"detailed_name":"static int wait_infinite(pid_t pid, unsigned int *exit_status)","short_name_offset":11,"short_name_size":13,"kind":12,"storage":3,"hover":"","comments":"","declarations":[],"spell":"41:21-41:34|-1|1|2","extent":"41:1-55:2|-1|1|0","bases":[],"derived":[],"vars":[5,6,7],"uses":[],"callees":["52:37-52:54|0|3|36"]},{"id":3,"usr":952377545191239991,"detailed_name":"static int wait_timeout(pid_t pid, unsigned int timeout, unsigned int *exit_status)","short_name_offset":11,"short_name_size":12,"kind":12,"storage":3,"hover":"","comments":"See Design section in README.md for an explanation of how this works.","declarations":[],"spell":"58:21-58:33|-1|1|2","extent":"58:1-110:2|-1|1|0","bases":[],"derived":[],"vars":[8,9,10,11,12,13],"uses":[],"callees":["107:37-107:54|0|3|36"]},{"id":4,"usr":13999645482055972199,"detailed_name":"int process_wait(pid_t pid, unsigned int timeout, unsigned int *exit_status)","short_name_offset":4,"short_name_size":12,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"112:14-112:26|-1|1|2","extent":"112:1-120:2|-1|1|0","bases":[],"derived":[],"vars":[14,15,16],"uses":[],"callees":[]},{"id":5,"usr":14342979981266266487,"detailed_name":"int process_terminate(pid_t pid, unsigned int timeout, unsigned int *exit_status)","short_name_offset":4,"short_name_size":17,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"122:14-122:31|-1|1|2","extent":"122:1-129:2|-1|1|0","bases":[],"derived":[],"vars":[17,18,19],"uses":[],"callees":[]},{"id":6,"usr":16944370785486461188,"detailed_name":"int process_kill(pid_t pid, unsigned int timeout, unsigned int *exit_status)","short_name_offset":4,"short_name_size":12,"kind":12,"storage":1,"hover":"","comments":"","declarations":[],"spell":"131:14-131:26|-1|1|2","extent":"131:1-138:2|-1|1|0","bases":[],"derived":[],"vars":[20,21,22],"uses":[],"callees":[]}],"vars":[{"id":0,"usr":9363412452778068242,"detailed_name":"int status","short_name_offset":4,"short_name_size":6,"hover":"","comments":"","declarations":[],"spell":"11:43-11:49|0|3|2","extent":"11:39-11:49|0|3|0","type":0,"uses":["16:17-16:23|0|3|12","16:62-16:68|0|3|12","18:22-18:28|0|3|12","20:34-20:40|0|3|12"],"kind":253,"storage":1},{"id":1,"usr":9052303135329902700,"detailed_name":"pid_t pid","short_name_offset":6,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"23:40-23:43|1|3|2","extent":"23:34-23:43|1|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":2,"usr":16278611071705224143,"detailed_name":"unsigned int *exit_status","short_name_offset":14,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"23:59-23:70|1|3|2","extent":"23:45-23:70|1|3|0","type":2,"uses":["36:7-36:18|1|3|12","36:23-36:34|1|3|12"],"kind":253,"storage":1},{"id":3,"usr":3285115525694799807,"detailed_name":"int status","short_name_offset":4,"short_name_size":6,"hover":"int status = 0","comments":"","declarations":[],"spell":"25:7-25:13|1|3|2","extent":"25:3-25:17|1|3|0","type":0,"uses":["36:55-36:61|1|3|12"],"kind":13,"storage":1},{"id":4,"usr":15115418085056855777,"detailed_name":"pid_t wait_result","short_name_offset":6,"short_name_size":11,"hover":"","comments":"Adding WNOHANG makes waitpid only check and return immediately.","declarations":[],"spell":"28:9-28:20|1|3|2","extent":"28:3-28:20|1|3|0","type":1,"uses":["30:7-30:18|1|3|12","31:7-31:18|1|3|12"],"kind":13,"storage":1},{"id":5,"usr":14579383198835291530,"detailed_name":"pid_t pid","short_name_offset":6,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"41:41-41:44|2|3|2","extent":"41:35-41:44|2|3|0","type":1,"uses":["45:15-45:18|2|3|12"],"kind":253,"storage":1},{"id":6,"usr":7013852476967704103,"detailed_name":"unsigned int *exit_status","short_name_offset":14,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"41:60-41:71|2|3|2","extent":"41:46-41:71|2|3|0","type":2,"uses":["52:7-52:18|2|3|12","52:23-52:34|2|3|12"],"kind":253,"storage":1},{"id":7,"usr":14439116181745638112,"detailed_name":"int status","short_name_offset":4,"short_name_size":6,"hover":"int status = 0","comments":"","declarations":[],"spell":"43:7-43:13|2|3|2","extent":"43:3-43:17|2|3|0","type":0,"uses":["45:21-45:27|2|3|132","52:55-52:61|2|3|12"],"kind":13,"storage":1},{"id":8,"usr":11054570757736040382,"detailed_name":"pid_t pid","short_name_offset":6,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"58:40-58:43|3|3|2","extent":"58:34-58:43|3|3|0","type":1,"uses":["80:29-80:32|3|3|12"],"kind":253,"storage":1},{"id":9,"usr":15177803472786142549,"detailed_name":"unsigned int timeout","short_name_offset":13,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"58:58-58:65|3|3|2","extent":"58:45-58:65|3|3|0","type":2,"uses":["61:10-61:17|3|3|12"],"kind":253,"storage":1},{"id":10,"usr":15604052709112470716,"detailed_name":"unsigned int *exit_status","short_name_offset":14,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"59:48-59:59|3|3|2","extent":"59:34-59:59|3|3|0","type":2,"uses":["107:7-107:18|3|3|12","107:23-107:34|3|3|12"],"kind":253,"storage":1},{"id":11,"usr":8181415068007124225,"detailed_name":"pid_t timeout_pid","short_name_offset":6,"short_name_size":11,"hover":"pid_t timeout_pid = 0","comments":"","declarations":[],"spell":"70:9-70:20|3|3|2","extent":"70:3-70:24|3|3|0","type":1,"uses":["83:19-83:30|3|3|12"],"kind":13,"storage":1},{"id":12,"usr":506297165508341412,"detailed_name":"int status","short_name_offset":4,"short_name_size":6,"hover":"int status = 0","comments":"-reproc->pid waits for all processes in the reproc->pid process group\nwhich in this case will be the process we want to wait for and the timeout\nprocess. waitpid will return the process id of whichever process exits\nfirst.","declarations":[],"spell":"78:7-78:13|3|3|2","extent":"78:3-78:17|3|3|0","type":0,"uses":["80:35-80:41|-1|1|4","107:55-107:61|3|3|12"],"kind":13,"storage":1},{"id":13,"usr":15932525915798330671,"detailed_name":"pid_t exit_pid","short_name_offset":6,"short_name_size":8,"hover":"pid_t exit_pid = waitpid(-pid, &status, 0)","comments":"","declarations":[],"spell":"80:9-80:17|3|3|2","extent":"80:3-80:45|3|3|0","type":1,"uses":["83:7-83:15|3|3|12","100:7-100:15|3|3|12"],"kind":13,"storage":1},{"id":14,"usr":10209821751896701105,"detailed_name":"pid_t pid","short_name_offset":6,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"112:33-112:36|4|3|2","extent":"112:27-112:36|4|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":15,"usr":2549043146093783997,"detailed_name":"unsigned int timeout","short_name_offset":13,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"112:51-112:58|4|3|2","extent":"112:38-112:58|4|3|0","type":2,"uses":["115:7-115:14|4|3|12","117:7-117:14|4|3|12"],"kind":253,"storage":1},{"id":16,"usr":1798758909126579514,"detailed_name":"unsigned int *exit_status","short_name_offset":14,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"113:41-113:52|4|3|2","extent":"113:27-113:52|4|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":17,"usr":13343551287197073664,"detailed_name":"pid_t pid","short_name_offset":6,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"122:38-122:41|5|3|2","extent":"122:32-122:41|5|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":18,"usr":6422292346474293795,"detailed_name":"unsigned int timeout","short_name_offset":13,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"122:56-122:63|5|3|2","extent":"122:43-122:63|5|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":19,"usr":3585377784118200067,"detailed_name":"unsigned int *exit_status","short_name_offset":14,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"123:46-123:57|5|3|2","extent":"123:32-123:57|5|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":20,"usr":5053522382838870826,"detailed_name":"pid_t pid","short_name_offset":6,"short_name_size":3,"hover":"","comments":"","declarations":[],"spell":"131:33-131:36|6|3|2","extent":"131:27-131:36|6|3|0","type":1,"uses":[],"kind":253,"storage":1},{"id":21,"usr":1998397789599457373,"detailed_name":"unsigned int timeout","short_name_offset":13,"short_name_size":7,"hover":"","comments":"","declarations":[],"spell":"131:51-131:58|6|3|2","extent":"131:38-131:58|6|3|0","type":2,"uses":[],"kind":253,"storage":1},{"id":22,"usr":2153297021721413511,"detailed_name":"unsigned int *exit_status","short_name_offset":14,"short_name_size":11,"hover":"","comments":"","declarations":[],"spell":"132:41-132:52|6|3|2","extent":"132:27-132:52|6|3|0","type":2,"uses":[],"kind":253,"storage":1}]}